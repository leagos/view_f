{"version":3,"sources":["webpack:///./src/views/records/power.vue?7990","webpack:///./src/assets/images/close-border.png","webpack:///./src/views/records/power.vue","webpack:///./src/views/records/power.vue?7d38"],"names":["module","exports","class","title","$t","isEntity","list","length","src","alt","components","HeadTop","setup","store","t","data","address","state","accounts","web3","provider","balance","loading","finished","limit","page","initContract","initData","onLoad","getList","apollo","clients","lpStakeClient","query","variables","first","skip","user","toLowerCase","fetchPolicy","then","res","rewardPaidLists","val","refData","__exports__","render"],"mappings":"kHAAA,W,8CCAAA,EAAOC,QAAU,siE,2JCCVC,MAAM,a,GAEJA,MAAM,W,qyBAkBJA,MAAM,e,EACT,eAGM,OAHDA,MAAM,2CAAyC,CAClD,eAAmE,OAA9DA,MAAM,aAAW,C,eAAC,SAAK,eAAiC,YAA3B,0BAClC,eAA4C,OAAvCA,MAAM,yBAAwB,S,MAEhCA,MAAM,kC,oaAWYA,MAAM,U,GAGxBA,MAAM,O,+0BAaJA,MAAM,8B,0GApDnB,eA0DM,MA1DN,EA0DM,CAzDJ,eAA+C,GAArCC,MAAO,EAAAC,GAAE,iB,kBACnB,eAuDM,MAvDN,EAuDM,CArDJ,EAgBA,eAeM,MAfN,EAeM,CAdJ,EAIA,eASM,MATN,EASM,CARJ,EAOA,eAAyD,OAApDF,MAAM,aAAc,QAAK,+BAAE,EAAAG,UAAQ,KAAS,UAGzC,EAAAC,KAAKC,O,wCAAjB,eAAoE,MAApE,EAAoE,eAA1B,EAAAH,GAAE,qBAER,EAAAC,U,iBAApC,eAkBM,O,MAlBDH,MAAM,mBAAoC,QAAK,+BAAE,EAAAG,UAAQ,K,CAC5D,eAgBM,MAhBN,EAgBM,CAfJ,EAYA,eAEM,MAFN,EAEM,CADJ,eAA6E,OAAvE,QAAK,+BAAE,EAAAA,UAAQ,IAAUG,IAAA,IAAuCC,IAAI,Y,+JAevE,GACbC,WAAY,CACVC,UAAA,MAEFC,MAJa,WAKX,IAAMC,EAAQ,iBADP,EAEO,iBAANC,EAFD,EAECA,EACFC,EAAO,eAAS,CACpBX,GAAIU,EACJE,QAAS,gBAAS,kBAAMH,EAAMI,MAAMC,SAAS,MAC7CC,KAAM,gBAAS,kBAAMN,EAAMI,MAAMG,YACjCC,QAAS,EACTC,SAAS,EACTC,UAAU,EACVC,MAAO,EACPC,KAAM,EACNnB,KAAM,GACND,UAAU,EACVqB,aAAc,WACZX,EAAKY,YAEPA,SAAU,aAGVC,OAAQ,WAAF,8CAAE,8FACNb,EAAKU,KAAOV,EAAKU,KAAO,EADlB,2CAAF,qDAAE,GAIRI,QAAS,WACPd,EAAKO,SAAU,EACfQ,EAAA,KAAeC,QAAQC,cAAcC,MAAM,CACzCA,MAAO,eAAF,iQAQLC,UAAW,CACTC,MAAOpB,EAAKS,MACZY,MAAOrB,EAAKU,KAAO,GAAKV,EAAKS,MAC7Ba,KAAMtB,EAAKC,QAAQsB,eAErBC,YAAa,aACZC,MAAK,SAACC,GAEP,IAAInC,EAAOmC,EAAI1B,KAAK2B,gBAChBpC,EAAKC,OAASQ,EAAKS,QACrBT,EAAKQ,UAAW,GAElBR,EAAKT,KAAL,yBAAgBS,EAAKT,MAArB,eAA8BA,IAE9BS,EAAKO,SAAU,QAIjBP,EAAKC,SACPD,EAAKW,eAEP,gBAAM,kBAAMX,EAAKC,WAAS,SAAC2B,GACrBA,GACF5B,EAAKW,kBAGT,IAAMkB,EAAU,eAAO7B,GACvB,yBACK6B,K,iCCjIT,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E","file":"static/js/chunk-6a21b71a.6f0118dc.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./power.vue?vue&type=style&index=0&id=19f075e8&lang=less&scoped=true\"","module.exports = \"data:image/png;base64,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\"","<template>\r\n  <div class=\"container\">\r\n    <HeadTop :title=\"$t('index.实体算力明细')\"></HeadTop>\r\n    <div class=\"records\">\r\n      <!-- <van-list v-model:loading=\"loading\" :finished=\"finished\" :immediate-check=\"false\" :finished-text=\"$t('index.沒有更多了')\" @load=\"onLoad\"> -->\r\n      <div class=\"entity-item\">\r\n        <div class=\"entity-item__info flex-between br-1px-b\">\r\n          <div class=\"ent-title\">兌換時間：<span> 2021-09-10 12:00:50</span></div>\r\n          <div class=\"ent-color\">挖礦中</div>\r\n        </div>\r\n        <div class=\"entity-item__info flex-between\">\r\n          <div class=\"item__info\">\r\n            <div class=\"ent-top flex-between\">\r\n              <div class=\"ent-title\">算力：<span class=\"ent-color\">1個</span></div>\r\n              <div class=\"ent-title\">剩餘：<span class=\"ent-color\">10個</span></div>\r\n            </div>\r\n            <div class=\"ent-title\">消耗：<span>500 LA+10 NBTC</span></div>\r\n          </div>\r\n          <div class=\"entity-btn destroy\">銷毀</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"entity-item\">\r\n        <div class=\"entity-item__info flex-between br-1px-b\">\r\n          <div class=\"ent-title\">兌換時間：<span> 2021-09-10 12:00:50</span></div>\r\n          <div class=\"ent-color ent-destroy\">已銷毀</div>\r\n        </div>\r\n        <div class=\"entity-item__info flex-between\">\r\n          <div class=\"item__info\">\r\n            <div class=\"ent-top flex-between\">\r\n              <div class=\"ent-title\">算力：<span class=\"ent-color\">1個</span></div>\r\n              <div class=\"ent-title\">剩餘：<span class=\"ent-color\">10個</span></div>\r\n            </div>\r\n            <div class=\"ent-title\">消耗：<span>500 LA+10 NBTC</span></div>\r\n          </div>\r\n          <div class=\"entity-btn\" @click=\"isEntity = true\">銷毀</div>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"!list.length\" class=\"noDate\">{{$t('index.暫無更多數據')}}</div>\r\n      <!-- </van-list> -->\r\n      <div class=\"mask entity-mask\" v-if=\"isEntity\" @click=\"isEntity = false\">\r\n        <div class=\"pop\">\r\n          <div class=\"pop-tit\">销毁算力</div>\r\n          <div class=\"pop-info\">\r\n            <input type=\"number\" value=\"\" id=\"destroyNum\" class=\"pop-input\" placeholder=\"请输入销毁数量\">\r\n            <input class=\"pop-input\" type=\"text\" name=\"username\" value=\"{$userinfo.编号}\" id=\"username\" hidden>\r\n            <input class=\"pop-input\" type=\"text\" name=\"bindaddress\" value=\"{$userinfo.钱包地址}\" id=\"bindaddress\" hidden>\r\n            <input class=\"pop-input\" type=\"text\" name=\"orderId\" value=\"\" id=\"orderIds\" hidden>\r\n            <input class=\"pop-input\" type=\"text\" name=\"remNum\" value=\"\" id=\"remNums\" hidden>\r\n            <div class=\"ent-info__text\">销毁算力后LA销毁NBTC返回给用户</div>\r\n          </div>\r\n          <div class=\"ex-btns\">\r\n            <button class=\"btn destroy-btn\" id=\"destroyBtn\" type=\"submit\">确定</button>\r\n          </div>\r\n          <div class=\"destroy-close close-border\">\r\n            <img @click=\"isEntity = false\" src=\"@/assets/images/close-border.png\" alt=\"\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport HeadTop from '@/components/HeadTop'\r\nimport { reactive, toRefs, computed, watch } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport { useStore } from \"vuex\";\r\nimport apolloProvider from '@/utils/apollo';\r\nimport gql from \"graphql-tag\";\r\n// import config from \"@/utils/config\";\r\nexport default {\r\n  components: {\r\n    HeadTop\r\n  },\r\n  setup () {\r\n    const store = useStore()\r\n    const { t } = useI18n()\r\n    const data = reactive({\r\n      $t: t,\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      balance: 0,\r\n      loading: false,\r\n      finished: false,\r\n      limit: 6,\r\n      page: 1,\r\n      list: [],\r\n      isEntity: false,\r\n      initContract: () => {\r\n        data.initData()\r\n      },\r\n      initData: () => {\r\n        // data.getList()\r\n      },\r\n      onLoad: async () => {\r\n        data.page = data.page + 1\r\n        // await data.getList()\r\n      },\r\n      getList: () => {\r\n        data.loading = false\r\n        apolloProvider.clients.lpStakeClient.query({\r\n          query: gql`query rewardPaidLists($first: Int!, $user: Bytes!) {\r\n            rewardPaidLists(first: $first, where: {user: $user}) {\r\n              id\r\n              reward\r\n              user\r\n              time\r\n            }\r\n          }`,\r\n          variables: {\r\n            first: data.limit,\r\n            skip: (data.page - 1) * data.limit,\r\n            user: data.address.toLowerCase()\r\n          },\r\n          fetchPolicy: 'no-cache'\r\n        }).then((res) => {\r\n\r\n          let list = res.data.rewardPaidLists\r\n          if (list.length < data.limit) {\r\n            data.finished = true;\r\n          }\r\n          data.list = [...data.list, ...list]\r\n\r\n          data.loading = false\r\n        })\r\n      }\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n    watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.records {\r\n  padding: 15px;\r\n\r\n  .entity-item {\r\n    padding: 4px 12px;\r\n    background: #ffffff;\r\n    border-radius: 10px;\r\n    margin-bottom: 15px;\r\n\r\n    .force {\r\n      .ent-title {\r\n        margin: 5px 0;\r\n\r\n        &:last-child {\r\n          margin: 5px 0 0;\r\n        }\r\n      }\r\n    }\r\n\r\n    .entity-item__info {\r\n      padding: 10px 0;\r\n\r\n      .title {\r\n        font-size: 15px;\r\n        font-weight: bold;\r\n        color: #333333;\r\n        margin-bottom: 10px;\r\n      }\r\n\r\n      .item__info {\r\n        .ent-top {\r\n          margin-bottom: 3px;\r\n\r\n          .ent-title {\r\n            &:first-child {\r\n              margin-right: 40px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      .ent-title {\r\n        font-size: 14px;\r\n        color: #999999;\r\n\r\n        span {\r\n          color: #333;\r\n        }\r\n\r\n        .ent-color {\r\n          font-size: 14px;\r\n          font-weight: bold;\r\n          color: #03ad90;\r\n        }\r\n      }\r\n\r\n      .ent-color {\r\n        font-size: 15px;\r\n        font-weight: bold;\r\n        color: #03ad90;\r\n      }\r\n\r\n      .entity-btn {\r\n        width: 60px;\r\n        height: 30px;\r\n        line-height: 30px;\r\n        text-align: center;\r\n        background: #999999;\r\n        border-radius: 5px;\r\n        font-size: 13px;\r\n        font-weight: bold;\r\n        color: #ffffff;\r\n      }\r\n\r\n      .ent-destroy {\r\n        color: #999999;\r\n      }\r\n\r\n      .destroy {\r\n        background: #17bd9d;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\">\r\n</style>\r\n","import { render } from \"./power.vue?vue&type=template&id=19f075e8&scoped=true\"\nimport script from \"./power.vue?vue&type=script&lang=js\"\nexport * from \"./power.vue?vue&type=script&lang=js\"\n\nimport \"./power.vue?vue&type=style&index=0&id=19f075e8&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\contract\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-19f075e8\"]])\n\nexport default __exports__"],"sourceRoot":""}