{"version":3,"sources":["webpack:///./src/views/team/index.vue","webpack:///./src/views/team/index.vue?9ccb","webpack:///./src/views/team/index.vue?046f"],"names":["class","title","$t","isWhiteBg","item","index","key","list","length","components","HeadTop","setup","store","t","data","address","state","accounts","web3","provider","balance","loading","finished","limit","page","initContract","initData","onLoad","getList","apollo","clients","lpStakeClient","query","variables","first","skip","user","toLowerCase","fetchPolicy","then","res","rewardPaidLists","val","refData","__exports__","render"],"mappings":"2OAEOA,MAAM,e,EAET,eAGM,OAHDA,MAAM,YAAU,CACnB,eAAwC,OAAnCA,MAAM,aAAY,eACvB,eAAmE,OAA9DA,MAAM,eAAa,C,eAAC,UAAM,eAA8B,QAAxBA,MAAM,OAAM,a,MAE9CA,MAAM,a,EACT,eAIM,OAJDA,MAAM,iCAA+B,CACxC,eAA+B,OAA1BA,MAAM,YAAW,OACtB,eAAgC,OAA3BA,MAAM,YAAW,QACtB,eAAkC,OAA7BA,MAAM,YAAW,Y,MAEnBA,MAAM,mB,EAEP,eAAyC,OAApCA,MAAM,sBAAqB,OAAG,G,EACnC,eAAkD,OAA7CA,MAAM,gCAA+B,MAAE,G,EAC5C,eAAyC,OAApCA,MAAM,qBAAoB,QAAI,G,EAGvC,eAAyB,OAApBA,MAAM,SAAO,S,SAGGA,MAAM,U,sIAtB/B,eAqBM,MArBN,EAqBM,CApBJ,eAAgE,GAAtDC,MAAO,EAAAC,GAAE,cAAiBC,WAAW,G,kBAC/C,EAIA,eAcM,MAdN,EAcM,CAbJ,EAKA,eAMM,MANN,EAMM,E,iBALJ,eAIM,2BAJ2D,IAAE,SAAjBC,EAAKC,G,OAAvD,eAIM,OAJDL,MAAM,+BAA2DM,IAAKD,G,CACzE,EACA,EACA,O,OAGJ,MAGQ,EAAAE,KAAKC,O,wCAAjB,eAAoE,MAApE,EAAoE,eAA1B,EAAAN,GAAE,sB,yIAW/B,GACbO,WAAY,CACVC,UAAA,MAEFC,MAJa,WAKX,IAAMC,EAAQ,iBADP,EAEO,iBAANC,EAFD,EAECA,EACFC,EAAO,eAAS,CACpBZ,GAAIW,EACJE,QAAS,gBAAS,kBAAMH,EAAMI,MAAMC,SAAS,MAC7CC,KAAM,gBAAS,kBAAMN,EAAMI,MAAMG,YACjCC,QAAS,EACTC,SAAS,EACTC,UAAU,EACVC,MAAO,EACPC,KAAM,EACNjB,KAAM,GACNkB,aAAc,WACZX,EAAKY,YAEPA,SAAU,aAGVC,OAAQ,WAAF,8CAAE,8FACNb,EAAKU,KAAOV,EAAKU,KAAO,EADlB,2CAAF,qDAAE,GAIRI,QAAS,WACPd,EAAKO,SAAU,EACfQ,EAAA,KAAeC,QAAQC,cAAcC,MAAM,CACzCA,MAAO,eAAF,iQAQLC,UAAW,CACTC,MAAOpB,EAAKS,MACZY,MAAOrB,EAAKU,KAAO,GAAKV,EAAKS,MAC7Ba,KAAMtB,EAAKC,QAAQsB,eAErBC,YAAa,aACZC,MAAK,SAACC,GAEP,IAAIjC,EAAOiC,EAAI1B,KAAK2B,gBAChBlC,EAAKC,OAASM,EAAKS,QACrBT,EAAKQ,UAAW,GAElBR,EAAKP,KAAL,yBAAgBO,EAAKP,MAArB,eAA8BA,IAE9BO,EAAKO,SAAU,QAIjBP,EAAKC,SACPD,EAAKW,eAEP,gBAAM,kBAAMX,EAAKC,WAAS,SAAC2B,GACrBA,GACF5B,EAAKW,kBAGT,IAAMkB,EAAU,eAAO7B,GACvB,yBACK6B,K,iCC9FT,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf","file":"static/js/chunk-292d2ca4.9a0fbc9b.js","sourcesContent":["<template>\r\n  <!-- <van-list v-model:loading=\"loading\" :finished=\"finished\" :immediate-check=\"false\" :finished-text=\"$t('index.沒有更多了')\" @load=\"onLoad\"> -->\r\n  <div class=\"ui-my__team\">\r\n    <HeadTop :title=\"$t('index.我的好友')\" :isWhiteBg=\"false\"></HeadTop>\r\n    <div class=\"team-top\">\r\n      <div class=\"team-name\">sjhdaj15632</div>\r\n      <div class=\"team-person\">團隊總人數 <span class=\"num\">15121</span></div>\r\n    </div>\r\n    <div class=\"team-info\">\r\n      <div class=\"flex-between team-info__title\">\r\n        <div class=\"info-tit\">用戶名</div>\r\n        <div class=\"info-tit\">當前狀態</div>\r\n        <div class=\"info-tit\">持有實體算力</div>\r\n      </div>\r\n      <div class=\"team-info__list\">\r\n        <div class=\"team-info__item flex-between\" v-for=\"(item,index) in 10\" :key=\"index\">\r\n          <div class=\"info-tit info-name\">666</div>\r\n          <div class=\"info-tit info-status invalid\">無效</div>\r\n          <div class=\"info-tit info-num\">2010</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"lists\"></div>\r\n    </div>\r\n  </div>\r\n  <div v-if=\"!list.length\" class=\"noDate\">{{$t('index.暫無更多數據')}}</div>\r\n  <!-- </van-list> -->\r\n</template>\r\n<script>\r\nimport HeadTop from '@/components/HeadTop'\r\nimport { reactive, toRefs, computed, watch } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport { useStore } from \"vuex\";\r\nimport apolloProvider from '@/utils/apollo';\r\nimport gql from \"graphql-tag\";\r\n// import config from \"@/utils/config\";\r\nexport default {\r\n  components: {\r\n    HeadTop\r\n  },\r\n  setup () {\r\n    const store = useStore()\r\n    const { t } = useI18n()\r\n    const data = reactive({\r\n      $t: t,\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      balance: 0,\r\n      loading: false,\r\n      finished: false,\r\n      limit: 6,\r\n      page: 1,\r\n      list: [],\r\n      initContract: () => {\r\n        data.initData()\r\n      },\r\n      initData: () => {\r\n        // data.getList()\r\n      },\r\n      onLoad: async () => {\r\n        data.page = data.page + 1\r\n        // await data.getList()\r\n      },\r\n      getList: () => {\r\n        data.loading = false\r\n        apolloProvider.clients.lpStakeClient.query({\r\n          query: gql`query rewardPaidLists($first: Int!, $user: Bytes!) {\r\n            rewardPaidLists(first: $first, where: {user: $user}) {\r\n              id\r\n              reward\r\n              user\r\n              time\r\n            }\r\n          }`,\r\n          variables: {\r\n            first: data.limit,\r\n            skip: (data.page - 1) * data.limit,\r\n            user: data.address.toLowerCase()\r\n          },\r\n          fetchPolicy: 'no-cache'\r\n        }).then((res) => {\r\n\r\n          let list = res.data.rewardPaidLists\r\n          if (list.length < data.limit) {\r\n            data.finished = true;\r\n          }\r\n          data.list = [...data.list, ...list]\r\n\r\n          data.loading = false\r\n        })\r\n      }\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n    watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.ui-my__team {\r\n  background: #fff url(~@/assets/images/team-bg.jpg) no-repeat;\r\n  background-size: 100% auto;\r\n\r\n  // min-height: 100%;\r\n  .team-top {\r\n    padding: 100px 0 40px;\r\n    text-align: center;\r\n    color: #ffffff;\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n\r\n    .team-person {\r\n      margin-top: 10px;\r\n\r\n      .num {\r\n        margin-left: 12px;\r\n        font-size: 23px;\r\n        font-weight: bold;\r\n      }\r\n    }\r\n  }\r\n\r\n  .team-info {\r\n    background: #ffffff;\r\n    margin-top: 45px;\r\n    border-radius: 25px 25px 0px 0px;\r\n\r\n    .team-info__title {\r\n      padding: 14px 0;\r\n\r\n      .info-tit {\r\n        width: 33%;\r\n        text-align: center;\r\n        font-size: 13px;\r\n        color: #666666;\r\n      }\r\n    }\r\n\r\n    .team-info__list {\r\n      font-size: 13px;\r\n\r\n      .info-tit {\r\n        width: 33%;\r\n        text-align: center;\r\n        line-height: 45px;\r\n      }\r\n\r\n      .info-name {\r\n        color: #111111;\r\n      }\r\n\r\n      .info-status {\r\n        color: #17bd9d;\r\n      }\r\n\r\n      .invalid {\r\n        color: #d62243;\r\n        font-weight: bold;\r\n      }\r\n\r\n      .info-num {\r\n        font-weight: bold;\r\n        color: #111111;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\">\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=2dd59594&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=2dd59594&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\contract\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2dd59594\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=2dd59594&lang=less&scoped=true\""],"sourceRoot":""}