{"version":3,"sources":["webpack:///./src/assets/images/tit-right.png","webpack:///./src/views/share/index.vue","webpack:///./src/views/share/index.vue?d6a4","webpack:///./src/assets/images/tit-left.png","webpack:///./src/views/share/index.vue?97bf"],"names":["module","exports","class","src","alt","id","style","data-clipboard-action","data-clipboard-target","title","$t","isWhiteBg","components","HeadTop","setup","store","t","data","address","state","accounts","web3","provider","balance","loading","finished","limit","page","list","initContract","initData","onLoad","getList","apollo","clients","lpStakeClient","query","variables","first","skip","user","toLowerCase","fetchPolicy","then","res","rewardPaidLists","length","val","clipboard","on","e","clearSelection","refData","__exports__","render"],"mappings":"mGAAAA,EAAOC,QAAU,kzC,gLCCVC,MAAM,a,EAET,eA0BM,OA1BDA,MAAM,WAAS,CAClB,eAIM,OAJDA,MAAM,8BAA4B,CACrC,eAA+D,OAA1DA,MAAM,UAAUC,IAAA,IAAmCC,IAAI,KAC5D,eAAgB,YAAV,OACN,eAAgE,OAA3DF,MAAM,UAAUC,IAAA,IAAoCC,IAAI,OAE/D,eAAqC,OAAhCF,MAAM,eAAc,UACzB,eAEM,OAFDA,MAAM,gBAAc,CACvB,eAA2B,OAAtBG,GAAG,iBAEV,eAAwC,OAAnCH,MAAM,iBAAgB,WAC3B,eAIM,OAJDA,MAAM,8BAA4B,CACrC,eAA+D,OAA1DA,MAAM,UAAUC,IAVA,IAUmCC,IAAI,KAC5D,eAAiB,YAAX,QACN,eAAgE,OAA3DF,MAAM,UAAUC,IAVA,IAUoCC,IAAI,OAE/D,eAIM,OAJDF,MAAM,iBAAe,CACxB,eAEI,KAFDI,MAAA,4BAA8B,CAC/B,eAAuF,QAAjFD,GAAG,aAAY,mEAGzB,eAIM,OAJDH,MAAM,sBAAoB,CAC7B,eAES,UAFDA,MAAM,uCAAuCK,wBAAsB,OAAOC,wBAAsB,cAAa,c,6GAxB3H,eA6BM,MA7BN,EA6BM,CA5BJ,eAAgE,GAAtDC,MAAO,EAAAC,GAAE,cAAiBC,WAAW,G,kBAC/C,O,mKAuCW,GACbC,WAAY,CACVC,UAAA,MAEFC,MAJa,WAKX,IAAMC,EAAQ,iBADP,EAEO,iBAANC,EAFD,EAECA,EACFC,EAAO,eAAS,CACpBP,GAAIM,EACJE,QAAS,gBAAS,kBAAMH,EAAMI,MAAMC,SAAS,MAC7CC,KAAM,gBAAS,kBAAMN,EAAMI,MAAMG,YACjCC,QAAS,EACTC,SAAS,EACTC,UAAU,EACVC,MAAO,EACPC,KAAM,EACNC,KAAM,GACNC,aAAc,WACZZ,EAAKa,YAEPA,SAAU,aAGVC,OAAQ,WAAF,8CAAE,8FACNd,EAAKU,KAAOV,EAAKU,KAAO,EADlB,2CAAF,qDAAE,GAIRK,QAAS,WACPf,EAAKO,SAAU,EACfS,EAAA,KAAeC,QAAQC,cAAcC,MAAM,CACzCA,MAAO,eAAF,iQAQLC,UAAW,CACTC,MAAOrB,EAAKS,MACZa,MAAOtB,EAAKU,KAAO,GAAKV,EAAKS,MAC7Bc,KAAMvB,EAAKC,QAAQuB,eAErBC,YAAa,aACZC,MAAK,SAACC,GAEP,IAAIhB,EAAOgB,EAAI3B,KAAK4B,gBAChBjB,EAAKkB,OAAS7B,EAAKS,QACrBT,EAAKQ,UAAW,GAElBR,EAAKW,KAAL,yBAAgBX,EAAKW,MAArB,eAA8BA,IAE9BX,EAAKO,SAAU,QAIjBP,EAAKC,SACPD,EAAKY,eAEP,gBAAM,kBAAMZ,EAAKC,WAAS,SAAC6B,GACrBA,GACF9B,EAAKY,kBAGT,gBAAU,WACR,IAAImB,EAAY,IAAI,IAAU,YAC9BA,EAAUC,GAAG,WAAW,SAAUC,GAChC,eAAMlC,EAAE,eACRkC,EAAEC,oBAEJH,EAAUC,GAAG,SAAS,WACpB,eAAMjC,EAAE,6BAGZ,IAAMoC,EAAU,eAAOnC,GACvB,yBACKmC,K,iCC/GT,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,8CCTftD,EAAOC,QAAU,khC,kCCAjB","file":"static/js/chunk-1dda6ea8.fa1257fa.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAMCAYAAACdrrgZAAAAAXNSR0IArs4c6QAAA4tJREFUWEftV89rXVUQ/mbOvS95xCJR27TRShdSRUUq+AeUmiaLLrvRRRdiGhXRZV3qqv4HlogW7EIExY2CCYmJP3DvKgtdSaBJWrDYJCQv58x8Mvcl5SV22bjpO3A5Z37cmXu+me/cewUHxvDc9KMDmr5Uw9Wb45O/HbT35QeLgPSGe2rms8dyLTMAz4hzA6IXV8feXHywKfvRehG4V4CR2RvHpMozIF9y4V0FhuDclITXV85NzfZhOxwEmgI88cv0iZSrHwE8K+BSMZmoE6+QnCLQAXhpbWzq+8N5hIc7qozOXj/pFecJnAb5OyxPrE28cwukHF/4/GMh36OwI+6TK+ff/nYPruM/XDulNS8gHEkiLhUXerMWikND7xTvroVwsFBUQu8SGunOQnMR8cZfw490h4uUrs7FJTnF4KJs8oSfW/g6VeFibHwsZlpj18Y3MRV6dqMmNrqQYy850VPoLDPnAZdWpnrFquPeqdxT6VDbNVPeZqs15Bt5iym3WD2yySoPsO6sc7097K2tOxzYHGJ75Aj/2lhl+84wj5z+g0dvH2Xk+XrpBeLDjwhBI+8NGVm4vgjyLIDips/fHn/jz16HEwufLpJ4RSgdsZ2Xb068uxz20flPxki5oYiNuAnEAlUlzQELvdKNAgNoQsZc2LXtyjCKW3IUakBJE4EJUUAzqBShF5DGsCmLACZgUaDQzdDE80KiiNAEbrHWWJMl9tXo4Kamhckt7nUz0+aZQxYjWVTMHGIJJbrBEsQcxdSiF8RqL6Ukeg2xnM1bENtJ7gMi1qmLt0Wsyi1mVVv/J3s93OaxtGy3lk96FOOnn8/6wSLI6Nz006bN8fPM/RgA8n0htykytTp2+Zt7DFi8dkozL3Q7OzpdCS27Xd5lRALpAk/RzQ0jvPEVabq2hwGh73b9ri1YErzxQD5YINSmowOjXgY09mBFUoplDybsMQBVoha6JrgVulTGAFOqLiPEC4MBaoUpuQcDgC2katC17LCq3Hc60U9AXZmnUnOrNt/PgEH+vb3OocFt72VA3LPHggb4GPdjwP53AJ8TYqm4jNeKDyh8C+A2IZfWXp387uE+rQ9n9/u+glDlOYAvArgLcgiCTXW+tnK+/xV0OPAD+/4Dnpz/4vGCPAPBGSE2qbi4dm4yjqf+OCQE9hUgcjR/wil9Jc6rK2OXfz2kvP2wuwj8pwB9ZP5fBP4FdEO6KzodlUIAAAAASUVORK5CYII=\"","<template>\r\n  <div class=\"container\">\r\n    <HeadTop :title=\"$t('index.推广链接')\" :isWhiteBg=\"false\"></HeadTop>\r\n    <div class=\"ui-code\">\r\n      <div class=\"ui-code__title flex-center\">\r\n        <img class=\"tit-img\" src=\"@/assets/images/tit-left.png\" alt=\"\">\r\n        <span>邀请码</span>\r\n        <img class=\"tit-img\" src=\"@/assets/images/tit-right.png\" alt=\"\">\r\n      </div>\r\n      <div class=\"ui-code-num\">LsfwnQ</div>\r\n      <div class=\"ui-code__img\">\r\n        <div id=\"regcodeimg\"></div>\r\n      </div>\r\n      <div class=\"ui-code__scan\">扫一扫邀请好友</div>\r\n      <div class=\"ui-code__title flex-center\">\r\n        <img class=\"tit-img\" src=\"@/assets/images/tit-left.png\" alt=\"\">\r\n        <span>推广链接</span>\r\n        <img class=\"tit-img\" src=\"@/assets/images/tit-right.png\" alt=\"\">\r\n      </div>\r\n      <div class=\"ui-code__info\">\r\n        <p style=\"word-break: break-all;\">\r\n          <span id='shareLink'>http://www.glw.com/index.php/Api/Promote/promote?rec=LsfwnQ</span>\r\n        </p>\r\n      </div>\r\n      <div class=\"ui-content--padded\">\r\n        <button class=\"ui-btn ui-btn--block ui-copy js-clip\" data-clipboard-action=\"copy\" data-clipboard-target=\"#shareLink\">\r\n          复制链接\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport HeadTop from '@/components/HeadTop'\r\nimport { reactive, toRefs, computed, watch, onMounted } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport { useStore } from \"vuex\";\r\nimport apolloProvider from '@/utils/apollo';\r\nimport gql from \"graphql-tag\";\r\n// import config from \"@/utils/config\";\r\nimport Clipboard from 'clipboard'\r\nimport { Toast } from 'vant';\r\nexport default {\r\n  components: {\r\n    HeadTop\r\n  },\r\n  setup () {\r\n    const store = useStore()\r\n    const { t } = useI18n()\r\n    const data = reactive({\r\n      $t: t,\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      balance: 0,\r\n      loading: false,\r\n      finished: false,\r\n      limit: 6,\r\n      page: 1,\r\n      list: [],\r\n      initContract: () => {\r\n        data.initData()\r\n      },\r\n      initData: () => {\r\n        // data.getList()\r\n      },\r\n      onLoad: async () => {\r\n        data.page = data.page + 1\r\n        // await data.getList()\r\n      },\r\n      getList: () => {\r\n        data.loading = false\r\n        apolloProvider.clients.lpStakeClient.query({\r\n          query: gql`query rewardPaidLists($first: Int!, $user: Bytes!) {\r\n            rewardPaidLists(first: $first, where: {user: $user}) {\r\n              id\r\n              reward\r\n              user\r\n              time\r\n            }\r\n          }`,\r\n          variables: {\r\n            first: data.limit,\r\n            skip: (data.page - 1) * data.limit,\r\n            user: data.address.toLowerCase()\r\n          },\r\n          fetchPolicy: 'no-cache'\r\n        }).then((res) => {\r\n\r\n          let list = res.data.rewardPaidLists\r\n          if (list.length < data.limit) {\r\n            data.finished = true;\r\n          }\r\n          data.list = [...data.list, ...list]\r\n\r\n          data.loading = false\r\n        })\r\n      }\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n    watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    onMounted(() => {\r\n      var clipboard = new Clipboard('.js-clip')\r\n      clipboard.on('success', function (e) {\r\n        Toast(t('share.複製成功'))\r\n        e.clearSelection()\r\n      })\r\n      clipboard.on('error', function () {\r\n        Toast(t('share.複製失敗，請手動長按複製'))\r\n      })\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n// ui-code\r\n.container {\r\n  padding: 81px 12px 35px !important;\r\n  background: #17bd9d url('~@/assets/images/share-bg.jpg') no-repeat;\r\n  background: 100% auto;\r\n}\r\n.ui-code {\r\n  text-align: center;\r\n  // box-shadow:0px 0px 15px 0px rgba(216,216,216,0.5);\r\n  border-radius: 10px;\r\n  background: url(~@/assets/images/share-infobg.jpg) no-repeat;\r\n  background-size: 100% 100%;\r\n  padding: 43px 36px 23px;\r\n\r\n  .ui-code__title {\r\n    // display: none;\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    color: #17bd9d;\r\n    line-height: 25px;\r\n\r\n    .tit-img {\r\n      width: 48px;\r\n      height: 6px;\r\n    }\r\n\r\n    span {\r\n      margin: 0 8px;\r\n    }\r\n  }\r\n\r\n  .ui-code-num {\r\n    font-size: 36px;\r\n    font-weight: bold;\r\n    color: #111111;\r\n    line-height: 1;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  .ui-code__img {\r\n    width: 180px;\r\n    height: 180px;\r\n    background: #ffffff;\r\n    border: 2px solid #17bd9d;\r\n    border-radius: 10px;\r\n    padding: 8.5px;\r\n    margin: 0 auto;\r\n\r\n    img,\r\n    canvas {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n\r\n  .ui-code__scan {\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    color: #17bd9d;\r\n    margin: 14px 0 26px;\r\n  }\r\n\r\n  .ui-copy {\r\n    margin: 0 auto;\r\n    width: 100px;\r\n    height: 35px;\r\n    background: #ffffff;\r\n    border: 1px solid #17bd9d;\r\n    border-radius: 18px !important;\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    color: #17bd9d;\r\n    line-height: 1;\r\n  }\r\n\r\n  .ui-code__info {\r\n    background: #f6f7fa;\r\n    border-radius: 10px;\r\n    padding: 18px 33px;\r\n  }\r\n\r\n  .ui-content--padded {\r\n    padding: 20px 50px;\r\n\r\n    .ui-btn {\r\n      font-size: 16px;\r\n      border-radius: 5px;\r\n    }\r\n  }\r\n}\r\n\r\n.ui-code__title {\r\n  padding: 0 0 1rem 0;\r\n  text-align: center;\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.ui-code__img {\r\n  margin: 0 auto;\r\n  width: 12rem;\r\n  height: 12rem;\r\n  padding: 0.5rem;\r\n  background: #fff;\r\n  overflow: hidden;\r\n}\r\n.ui-code__img img {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.ui-code__info {\r\n  padding: 1rem 0;\r\n  line-height: 1.8em;\r\n  font-size: 0.8rem;\r\n}\r\n</style>\r\n<style lang=\"less\">\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=6ee0aeb6&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=6ee0aeb6&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\contract\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6ee0aeb6\"]])\n\nexport default __exports__","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAMCAYAAACdrrgZAAAAAXNSR0IArs4c6QAAArNJREFUWEftl09LFWEUxp/nnHfurSy8m0ypNiItbFmts7IiI8KvEBGkfQj7CgkRQV8hb0obiZJ21dqCIAsCudomvAlqM++J807XTNrOqhkYzrx/z/D8zpwzL1FflSsw+OLxOVDYuXT77X5nrNz7f+5gaPHJWdP4HKAAuL4fQg2gwgBJkQ8sgGyZQUh2jTKxdvHWm57bGkBFAIYWH5010QUQrZvHhgNItjsrZkCXlGs9CDWACgC4+BC2DWxNDo5ks6NjDXcz/WGpeNb5zAQBdsXTUQnAQNyf4dj5JVn/dlQGNvtku2+Tm1sH5Eh/JlvbXTl4KJOdnSABpoU2GRB1x0yzQuSn9wWKwFTNtIgiBYJKMPW+9Oz9UI0wFSstyRD90wR9prIwjSpqJuUYEAhRt2KQSA0mpowSjPBbCA0GqvlcoVpEMIgaTQ2qADz6AoxqPm6i8LWg+B6M9HEx0v0oQfX5Po5I9yeAr6G/ggKmSP4oIJJdHZ863uM49PLhGUSdM8DFb8yOXmgqS5kLM9xdfmXza18AYsMh/PkCZmbEAXQ/nuLAya/y/cdh6QHIu9vMWqYOoJmrbMG00RTJcxGFaZ5RcjMNhSQI+R7Ro4MxF1uCA7BIz4UhaiEs3IqKg/E5Eam9C8AcIDWqBsYYvBnVRZMEIgmfYElwAN52mIVbB0CPFyoE/pqaoDkAX2tQo5ZgXHjyt7BwsROISN/fBU9BoEqVaC68lYAsgebq5akTuwDK6H+KMvobD0bH/gIw/f51bK99ct03QF6tU1AFKciLL2FzRvZPDow0Zk+XKeje8lLRXl9BBDdIpjpQA6gAgG9Z1gGZLyEMZwayvV4WYez5E6oBVASgB6H3J2QpdXnxxcTes0ANoEIAvnV5FuACvOySN+qDWMWC/2v7dBqWgp3xO+/2j/8CZYE2bXFwFkQAAAAASUVORK5CYII=\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=6ee0aeb6&lang=less&scoped=true\""],"sourceRoot":""}