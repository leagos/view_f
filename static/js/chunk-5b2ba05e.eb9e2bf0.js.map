{"version":3,"sources":["webpack:///./src/views/records/output.vue?00f7","webpack:///./src/views/records/output.vue","webpack:///./src/views/records/output.vue?a4b6"],"names":["class","title","$t","item","index","key","list","length","components","HeadTop","setup","store","t","data","address","state","accounts","web3","provider","balance","loading","finished","limit","page","initContract","initData","onLoad","getList","apollo","clients","lpStakeClient","query","variables","first","skip","user","toLowerCase","fetchPolicy","then","res","rewardPaidLists","val","refData","__exports__","render"],"mappings":"gHAAA,W,sICCOA,MAAM,a,GAEJA,MAAM,W,EAGP,eAA2C,OAAtCA,MAAM,WAAU,oBAAgB,G,EACrC,eAAgE,OAA3DA,MAAM,YAAU,C,eAAC,OAAG,eAAiC,YAA3B,0B,ubAWRA,MAAM,U,0GAjBnC,eAoBM,MApBN,EAoBM,CAnBJ,eAA+C,GAArCC,MAAO,EAAAC,GAAE,iB,kBACnB,eAiBM,MAjBN,EAiBM,E,iBAfJ,eAGM,2BAH0C,GAAC,SAAhBC,EAAKC,G,OAAtC,eAGM,OAHDJ,MAAM,cAAyCK,IAAKD,G,CACvD,EACA,O,KAEF,EASY,EAAAE,KAAKC,O,wCAAjB,eAAoE,MAApE,EAAoE,eAA1B,EAAAL,GAAE,4B,kIAanC,GACbM,WAAY,CACVC,UAAA,MAEFC,MAJa,WAKX,IAAMC,EAAQ,iBADP,EAEO,iBAANC,EAFD,EAECA,EACFC,EAAO,eAAS,CACpBX,GAAIU,EACJE,QAAS,gBAAS,kBAAMH,EAAMI,MAAMC,SAAS,MAC7CC,KAAM,gBAAS,kBAAMN,EAAMI,MAAMG,YACjCC,QAAS,EACTC,SAAS,EACTC,UAAU,EACVC,MAAO,EACPC,KAAM,EACNjB,KAAM,GACNkB,aAAc,WACZX,EAAKY,YAEPA,SAAU,aAGVC,OAAQ,WAAF,8CAAE,8FACNb,EAAKU,KAAOV,EAAKU,KAAO,EADlB,2CAAF,qDAAE,GAIRI,QAAS,WACPd,EAAKO,SAAU,EACfQ,EAAA,KAAeC,QAAQC,cAAcC,MAAM,CACzCA,MAAO,eAAF,iQAQLC,UAAW,CACTC,MAAOpB,EAAKS,MACZY,MAAOrB,EAAKU,KAAO,GAAKV,EAAKS,MAC7Ba,KAAMtB,EAAKC,QAAQsB,eAErBC,YAAa,aACZC,MAAK,SAACC,GAEP,IAAIjC,EAAOiC,EAAI1B,KAAK2B,gBAChBlC,EAAKC,OAASM,EAAKS,QACrBT,EAAKQ,UAAW,GAElBR,EAAKP,KAAL,yBAAgBO,EAAKP,MAArB,eAA8BA,IAE9BO,EAAKO,SAAU,QAIjBP,EAAKC,SACPD,EAAKW,eAEP,gBAAM,kBAAMX,EAAKC,WAAS,SAAC2B,GACrBA,GACF5B,EAAKW,kBAGT,IAAMkB,EAAU,eAAO7B,GACvB,yBACK6B,K,iCC1FT,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB","file":"static/js/chunk-5b2ba05e.eb9e2bf0.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./output.vue?vue&type=style&index=0&id=d56240b6&lang=less&scoped=true\"","<template>\r\n  <div class=\"container\">\r\n    <HeadTop :title=\"$t('index.实体算力明细')\"></HeadTop>\r\n    <div class=\"records\">\r\n      <!-- <van-list v-model:loading=\"loading\" :finished=\"finished\" :immediate-check=\"false\" :finished-text=\"$t('index.沒有更多了')\" @load=\"onLoad\"> -->\r\n      <div class=\"output-item\" v-for=\"(item,index) in 3\" :key=\"index\">\r\n        <div class=\"out-num\">1052.668501 NBTC</div>\r\n        <div class=\"out-time\">時間：<span> 2021-09-10 12:00:50</span></div>\r\n      </div>\r\n      <div class=\"output-item\">\r\n        <div class=\"out-num\">1052.668501 NBTC</div>\r\n        <div class=\"out-time\">時間：<span> 2021-09-10 12:00:50</span></div>\r\n      </div>\r\n      <div class=\"output-item\">\r\n        <div class=\"out-num\">1052.668501 NBTC</div>\r\n        <div class=\"out-time\">時間：<span> 2021-09-10 12:00:50</span></div>\r\n      </div>\r\n\r\n      <div v-if=\"!list.length\" class=\"noDate\">{{$t('index.暫無更多數據')}}</div>\r\n      <!-- </van-list> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport HeadTop from '@/components/HeadTop'\r\nimport { reactive, toRefs, computed, watch } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport { useStore } from \"vuex\";\r\nimport apolloProvider from '@/utils/apollo';\r\nimport gql from \"graphql-tag\";\r\n// import config from \"@/utils/config\";\r\nexport default {\r\n  components: {\r\n    HeadTop\r\n  },\r\n  setup () {\r\n    const store = useStore()\r\n    const { t } = useI18n()\r\n    const data = reactive({\r\n      $t: t,\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      balance: 0,\r\n      loading: false,\r\n      finished: false,\r\n      limit: 6,\r\n      page: 1,\r\n      list: [],\r\n      initContract: () => {\r\n        data.initData()\r\n      },\r\n      initData: () => {\r\n        // data.getList()\r\n      },\r\n      onLoad: async () => {\r\n        data.page = data.page + 1\r\n        // await data.getList()\r\n      },\r\n      getList: () => {\r\n        data.loading = false\r\n        apolloProvider.clients.lpStakeClient.query({\r\n          query: gql`query rewardPaidLists($first: Int!, $user: Bytes!) {\r\n            rewardPaidLists(first: $first, where: {user: $user}) {\r\n              id\r\n              reward\r\n              user\r\n              time\r\n            }\r\n          }`,\r\n          variables: {\r\n            first: data.limit,\r\n            skip: (data.page - 1) * data.limit,\r\n            user: data.address.toLowerCase()\r\n          },\r\n          fetchPolicy: 'no-cache'\r\n        }).then((res) => {\r\n\r\n          let list = res.data.rewardPaidLists\r\n          if (list.length < data.limit) {\r\n            data.finished = true;\r\n          }\r\n          data.list = [...data.list, ...list]\r\n\r\n          data.loading = false\r\n        })\r\n      }\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n    watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.records {\r\n  padding: 15px;\r\n\r\n  .output-item {\r\n    background: #ffffff;\r\n    border-radius: 10px;\r\n    padding: 14px 12px;\r\n    margin-bottom: 15px;\r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n\r\n    .out-num {\r\n      font-size: 15px;\r\n      font-weight: bold;\r\n      color: #03ad90;\r\n      margin-bottom: 12px;\r\n    }\r\n\r\n    .out-time {\r\n      font-size: 13px;\r\n      color: #999999;\r\n\r\n      span {\r\n        color: #333;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\">\r\n</style>\r\n","import { render } from \"./output.vue?vue&type=template&id=d56240b6&scoped=true\"\nimport script from \"./output.vue?vue&type=script&lang=js\"\nexport * from \"./output.vue?vue&type=script&lang=js\"\n\nimport \"./output.vue?vue&type=style&index=0&id=d56240b6&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\contract\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d56240b6\"]])\n\nexport default __exports__"],"sourceRoot":""}